
> å­é›†é—®é¢˜åŠ å»é‡ï¼

# ç¬¬90é¢˜.å­é›†II

é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/subsets-ii/

ç»™å®šä¸€ä¸ªå¯èƒ½åŒ…å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è¯´æ˜ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚

ç¤ºä¾‹:    
è¾“å…¥: [1,2,2]  
è¾“å‡º:  
[  
  [2],  
  [1],  
  [1,2,2],  
  [2,2],  
  [1,2],  
  []  
]  


# æ€è·¯ 

åšæœ¬é¢˜ä¹‹å‰ä¸€å®šè¦å…ˆåš[78.å­é›†](https://mp.weixin.qq.com/s/NNRzX-vJ_pjK4qxohd_LtA)ã€‚

è¿™é“é¢˜ç›®å’Œ[å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼](https://mp.weixin.qq.com/s/NNRzX-vJ_pjK4qxohd_LtA)åŒºåˆ«å°±æ˜¯é›†åˆé‡Œæœ‰é‡å¤å…ƒç´ äº†ï¼Œè€Œä¸”æ±‚å–çš„å­é›†è¦å»é‡ã€‚

é‚£ä¹ˆå…³äºå›æº¯ç®—æ³•ä¸­çš„å»é‡é—®é¢˜ï¼Œ**åœ¨[40.ç»„åˆæ€»å’ŒII](https://mp.weixin.qq.com/s/_1zPYk70NvHsdY8UWVGXmQ)ä¸­å·²ç»è¯¦ç»†è®²è§£è¿‡äº†ï¼Œå’Œæœ¬é¢˜æ˜¯ä¸€ä¸ªå¥—è·¯**ã€‚

**å‰§é€ä¸€ä¸‹ï¼ŒåæœŸè¦è®²è§£çš„æ’åˆ—é—®é¢˜é‡Œå»é‡ä¹Ÿæ˜¯è¿™ä¸ªå¥—è·¯ï¼Œæ‰€ä»¥ç†è§£â€œæ ‘å±‚å»é‡â€å’Œâ€œæ ‘æå»é‡â€éå¸¸é‡è¦**ã€‚

ç”¨ç¤ºä¾‹ä¸­çš„[1, 2, 2] æ¥ä¸¾ä¾‹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š ï¼ˆ**æ³¨æ„å»é‡éœ€è¦å…ˆå¯¹é›†åˆæ’åº**ï¼‰

![90.å­é›†II](https://img-blog.csdnimg.cn/20201124195411977.png)

ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒåŒä¸€æ ‘å±‚ä¸Šé‡å¤å–2 å°±è¦è¿‡æ»¤æ‰ï¼ŒåŒä¸€æ ‘æä¸Šå°±å¯ä»¥é‡å¤å–2ï¼Œå› ä¸ºåŒä¸€æ ‘æä¸Šå…ƒç´ çš„é›†åˆæ‰æ˜¯å”¯ä¸€å­é›†ï¼

æœ¬é¢˜å°±æ˜¯å…¶å®å°±æ˜¯[å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼](https://mp.weixin.qq.com/s/NNRzX-vJ_pjK4qxohd_LtA)çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†å»é‡ï¼Œå»é‡æˆ‘ä»¬åœ¨[å›æº¯ç®—æ³•ï¼šæ±‚ç»„åˆæ€»å’Œï¼ˆä¸‰ï¼‰](https://mp.weixin.qq.com/s/_1zPYk70NvHsdY8UWVGXmQ)ä¹Ÿè®²è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘å°±ç›´æ¥ç»™å‡ºä»£ç äº†ï¼š

# C++ä»£ç 

```
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    void backtracking(vector<int>& nums, int startIndex, vector<bool>& used) {
        result.push_back(path);
        for (int i = startIndex; i < nums.size(); i++) {
            // used[i - 1] == trueï¼Œè¯´æ˜åŒä¸€æ ‘æ”¯candidates[i - 1]ä½¿ç”¨è¿‡
            // used[i - 1] == falseï¼Œè¯´æ˜åŒä¸€æ ‘å±‚candidates[i - 1]ä½¿ç”¨è¿‡
            // è€Œæˆ‘ä»¬è¦å¯¹åŒä¸€æ ‘å±‚ä½¿ç”¨è¿‡çš„å…ƒç´ è¿›è¡Œè·³è¿‡
            if (i > 0 && nums[i] == nums[i - 1] && used[i - 1] == false) {
                continue;
            }
            path.push_back(nums[i]);
            used[i] = true;
            backtracking(nums, i + 1, used);
            used[i] = false;
            path.pop_back();
        }
    }

public:
    vector<vector<int>> subsetsWithDup(vector<int>& nums) {
        result.clear();
        path.clear();
        vector<bool> used(nums.size(), false);
        sort(nums.begin(), nums.end()); // å»é‡éœ€è¦æ’åº
        backtracking(nums, 0, used);
        return result;
    }
};

```

ä½¿ç”¨setå»é‡çš„ç‰ˆæœ¬ã€‚
```
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    void backtracking(vector<int>& nums, int startIndex, vector<bool>& used) {
        result.push_back(path);
        unordered_set<int> uset;
        for (int i = startIndex; i < nums.size(); i++) {
            if (uset.find(nums[i]) != uset.end()) {
                continue;
            }
            uset.insert(nums[i]);
            path.push_back(nums[i]);
            backtracking(nums, i + 1, used);
            path.pop_back();
        }
    }

public:
    vector<vector<int>> subsetsWithDup(vector<int>& nums) {
        result.clear();
        path.clear();
        vector<bool> used(nums.size(), false);
        sort(nums.begin(), nums.end()); // å»é‡éœ€è¦æ’åº
        backtracking(nums, 0, used);
        return result;
    }
};

```

# æ€»ç»“ 

å…¶å®è¿™é“é¢˜ç›®çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬ä¹‹å‰éƒ½è®²è¿‡äº†ï¼Œå¦‚æœä¹‹å‰è®²è¿‡çš„å­é›†é—®é¢˜å’Œå»é‡é—®é¢˜éƒ½æŒæ¡çš„å¥½ï¼Œè¿™é“é¢˜ç›®åº”è¯¥åˆ†åˆ†é’ŸACã€‚

å½“ç„¶æœ¬é¢˜å»é‡çš„é€»è¾‘ï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆå†™

```
if (i > startIndex && nums[i] == nums[i - 1] ) {
        continue;
}
```

**å°±é…±ï¼Œå¦‚æœæ„Ÿè§‰èä¼šè´¯é€šäº†ï¼Œå°±æŠŠã€Œä»£ç éšæƒ³å½•ã€ä»‹ç»ç»™è‡ªå·±çš„åŒå­¦æœ‹å‹å§ï¼Œä¹Ÿè®¸ä»–ä»¬ä¹Ÿéœ€è¦ï¼**

> **æˆ‘æ˜¯[ç¨‹åºå‘˜Carl](https://github.com/youngyangyang04)ï¼Œå¯ä»¥æ‰¾æˆ‘[ç»„é˜Ÿåˆ·é¢˜](https://img-blog.csdnimg.cn/20201115103410182.png)ï¼Œä¹Ÿå¯ä»¥åœ¨[Bç«™ä¸Šæ‰¾åˆ°æˆ‘](https://space.bilibili.com/525438321)ï¼Œæœ¬æ–‡[leetcodeåˆ·é¢˜æ”»ç•¥](https://github.com/youngyangyang04/leetcode-master)å·²æ”¶å½•ï¼Œæ›´å¤š[ç²¾å½©ç®—æ³•æ–‡ç« ](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUxNjY5NTYxNA==&action=getalbum&album_id=1485825793120387074&scene=173#wechat_redirect)å°½åœ¨å…¬ä¼—å·ï¼š[ä»£ç éšæƒ³å½•](https://img-blog.csdnimg.cn/20201124161234338.png)ï¼Œå…³æ³¨åå°±ä¼šå‘ç°å’Œã€Œä»£ç éšæƒ³å½•ã€ç›¸è§æ¨æ™šï¼**

**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**



