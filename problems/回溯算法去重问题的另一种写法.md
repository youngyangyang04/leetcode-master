
# æœ¬å‘¨å°ç»“ï¼ï¼ˆå›æº¯ç®—æ³•ç³»åˆ—ä¸‰ï¼‰ç»­é›† 

> åœ¨ [æœ¬å‘¨å°ç»“ï¼ï¼ˆå›æº¯ç®—æ³•ç³»åˆ—ä¸‰ï¼‰](https://mp.weixin.qq.com/s/tLkt9PSo42X60w8i94ViiA) ä¸­ä¸€ä½å½•å‹å¯¹ æ•´é¢—æ ‘çš„æœ¬å±‚å’ŒåŒä¸€èŠ‚ç‚¹çš„æœ¬å±‚æœ‰ç–‘é—®ï¼Œä¹Ÿè®©æˆ‘é‡æ–°æ€è€ƒäº†ä¸€ä¸‹ï¼Œå‘ç°è¿™é‡Œç¡®å®æœ‰é—®é¢˜ï¼Œæ‰€ä»¥ä¸“é—¨å†™ä¸€ç¯‡æ¥çº æ­£ï¼Œæ„Ÿè°¢å½•å‹ä»¬çš„ç§¯æäº¤æµå“ˆï¼ 

æ¥ä¸‹æ¥æˆ‘å†æŠŠè¿™å—å†è®²ä¸€ä¸‹ã€‚

åœ¨[å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼ˆäºŒï¼‰](https://mp.weixin.qq.com/s/WJ4JNDRJgsW3eUN72Hh3uQ)ä¸­çš„å»é‡å’Œ [å›æº¯ç®—æ³•ï¼šé€’å¢å­åºåˆ—](https://mp.weixin.qq.com/s/ePxOtX1ATRYJb2Jq7urzHQ)ä¸­çš„å»é‡ éƒ½æ˜¯ åŒä¸€çˆ¶èŠ‚ç‚¹ä¸‹æœ¬å±‚çš„å»é‡ã€‚

[å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼ˆäºŒï¼‰](https://mp.weixin.qq.com/s/WJ4JNDRJgsW3eUN72Hh3uQ)ä¹Ÿå¯ä»¥ä½¿ç”¨seté’ˆå¯¹åŒä¸€çˆ¶èŠ‚ç‚¹æœ¬å±‚å»é‡ï¼Œä½†å­é›†é—®é¢˜ä¸€å®šè¦æ’åºï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ 

æˆ‘ç”¨æ²¡æœ‰æ’åºçš„é›†åˆ{2,1,2,2}æ¥ä¸¾ä¾‹å­ç”»ä¸€ä¸ªå›¾ï¼Œå¦‚å›¾ï¼š

![90.å­é›†II2](https://img-blog.csdnimg.cn/2020111316440479.png)

å›¾ä¸­ï¼Œå¤§å®¶å°±å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œå­é›†é‡å¤äº†ã€‚

é‚£ä¹ˆä¸‹é¢æˆ‘é’ˆå¯¹[å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼ˆäºŒï¼‰](https://mp.weixin.qq.com/s/WJ4JNDRJgsW3eUN72Hh3uQ) ç»™å‡ºä½¿ç”¨setæ¥å¯¹æœ¬å±‚å»é‡çš„ä»£ç å®ç°ã€‚

# 90.å­é›†II 

usedæ•°ç»„å»é‡ç‰ˆæœ¬ï¼š [å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼ˆäºŒï¼‰](https://mp.weixin.qq.com/s/WJ4JNDRJgsW3eUN72Hh3uQ)

ä½¿ç”¨setå»é‡çš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š

```C++
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    void backtracking(vector<int>& nums, int startIndex, vector<bool>& used) {
        result.push_back(path);
        unordered_set<int> uset; // å®šä¹‰setå¯¹åŒä¸€èŠ‚ç‚¹ä¸‹çš„æœ¬å±‚å»é‡
        for (int i = startIndex; i < nums.size(); i++) {
            if (uset.find(nums[i]) != uset.end()) { // å¦‚æœå‘ç°å‡ºç°è¿‡å°±pass
                continue;
            }
            uset.insert(nums[i]); // setè·Ÿæ–°å…ƒç´ 
            path.push_back(nums[i]);
            backtracking(nums, i + 1, used);
            path.pop_back();
        }
    }

public:
    vector<vector<int>> subsetsWithDup(vector<int>& nums) {
        result.clear();
        path.clear();
        vector<bool> used(nums.size(), false);
        sort(nums.begin(), nums.end()); // å»é‡éœ€è¦æ’åº
        backtracking(nums, 0, used);
        return result;
    }
};

```

é’ˆå¯¹ç•™è¨€åŒºå½•å‹ä»¬çš„ç–‘é—®ï¼Œæˆ‘å†è¡¥å……ä¸€äº›å¸¸è§çš„é”™è¯¯å†™æ³•ï¼Œ


## é”™è¯¯å†™æ³•ä¸€ 

æŠŠusetå®šä¹‰æ”¾åˆ°ç±»æˆå‘˜ä½ç½®ï¼Œç„¶åæ¨¡æ‹Ÿå›æº¯çš„æ ·å­ insertä¸€æ¬¡ï¼Œeraseä¸€æ¬¡ã€‚ 

ä¾‹å¦‚ï¼š

```C++
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    unordered_set<int> uset; // æŠŠusetå®šä¹‰æ”¾åˆ°ç±»æˆå‘˜ä½ç½®
    void backtracking(vector<int>& nums, int startIndex, vector<bool>& used) {
        result.push_back(path);

        for (int i = startIndex; i < nums.size(); i++) {
            if (uset.find(nums[i]) != uset.end()) {
                continue;
            }
            uset.insert(nums[i]);   // é€’å½’ä¹‹å‰insert 
            path.push_back(nums[i]);
            backtracking(nums, i + 1, used);
            path.pop_back();
            uset.erase(nums[i]);    // å›æº¯å†erase
        }
    }

```

åœ¨æ ‘å½¢ç»“æ„ä¸­ï¼Œ**å¦‚æœæŠŠunordered_set<int> usetæ”¾åœ¨ç±»æˆå‘˜çš„ä½ç½®ï¼ˆç›¸å½“äºå…¨å±€å˜é‡ï¼‰ï¼Œå°±æŠŠæ ‘æçš„æƒ…å†µéƒ½è®°å½•äº†ï¼Œä¸æ˜¯å•çº¯çš„æ§åˆ¶æŸä¸€èŠ‚ç‚¹ä¸‹çš„åŒä¸€å±‚äº†**ã€‚

å¦‚å›¾ï¼š

![90.å­é›†II1](https://img-blog.csdnimg.cn/202011131625054.png)

å¯ä»¥çœ‹å‡ºä¸€æ—¦æŠŠunordered_set<int> usetæ”¾åœ¨ç±»æˆå‘˜ä½ç½®ï¼Œå®ƒæ§åˆ¶çš„å°±æ˜¯æ•´æ£µæ ‘ï¼ŒåŒ…æ‹¬æ ‘æã€‚

**æ‰€ä»¥è¿™ä¹ˆå†™ä¸è¡Œï¼** 

## é”™è¯¯å†™æ³•äºŒ

æœ‰åŒå­¦æŠŠ unordered_set<int> uset; æ”¾åˆ°ç±»æˆå‘˜ä½ç½®ï¼Œç„¶åæ¯æ¬¡è¿›å…¥å•å±‚çš„æ—¶å€™ç”¨uset.clear()ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```C++
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    unordered_set<int> uset; // æŠŠusetå®šä¹‰æ”¾åˆ°ç±»æˆå‘˜ä½ç½®
    void backtracking(vector<int>& nums, int startIndex, vector<bool>& used) {
        result.push_back(path);
        uset.clear(); // åˆ°æ¯ä¸€å±‚çš„æ—¶å€™ï¼Œæ¸…ç©ºuset
        for (int i = startIndex; i < nums.size(); i++) {
            if (uset.find(nums[i]) != uset.end()) {
                continue;
            }
            uset.insert(nums[i]); // setè®°å½•å…ƒç´ 
            path.push_back(nums[i]);
            backtracking(nums, i + 1, used);
            path.pop_back();
        }
    }
```
usetå·²ç»æ˜¯å…¨å±€å˜é‡ï¼Œæœ¬å±‚çš„usetè®°å½•äº†ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€å±‚ä¹‹åè¿™ä¸ªusetï¼ˆå’Œä¸Šä¸€å±‚æ˜¯åŒä¸€ä¸ªusetï¼‰å°±è¢«æ¸…ç©ºäº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå±‚ä¸å±‚ä¹‹é—´çš„usetæ˜¯åŒä¸€ä¸ªï¼Œé‚£ä¹ˆå°±ä¼šç›¸äº’å½±å“ã€‚

**æ‰€ä»¥è¿™ä¹ˆå†™ä¾ç„¶ä¸è¡Œï¼**

**ç»„åˆé—®é¢˜å’Œæ’åˆ—é—®é¢˜ï¼Œå…¶å®ä¹Ÿå¯ä»¥ä½¿ç”¨setæ¥å¯¹åŒä¸€èŠ‚ç‚¹ä¸‹æœ¬å±‚å»é‡ï¼Œä¸‹é¢æˆ‘éƒ½åˆ†åˆ«ç»™å‡ºå®ç°ä»£ç **ã€‚

# 40. ç»„åˆæ€»å’Œ II 

ä½¿ç”¨usedæ•°ç»„å»é‡ç‰ˆæœ¬ï¼š[å›æº¯ç®—æ³•ï¼šæ±‚ç»„åˆæ€»å’Œï¼ˆä¸‰ï¼‰](https://mp.weixin.qq.com/s/_1zPYk70NvHsdY8UWVGXmQ)

ä½¿ç”¨setå»é‡çš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š

```C++
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    void backtracking(vector<int>& candidates, int target, int sum, int startIndex) {
        if (sum == target) {
            result.push_back(path);
            return;
        }
        unordered_set<int> uset; // æ§åˆ¶æŸä¸€èŠ‚ç‚¹ä¸‹çš„åŒä¸€å±‚å…ƒç´ ä¸èƒ½é‡å¤
        for (int i = startIndex; i < candidates.size() && sum + candidates[i] <= target; i++) {
            if (uset.find(candidates[i]) != uset.end()) {
                continue;
            }
            uset.insert(candidates[i]); // è®°å½•å…ƒç´ 
            sum += candidates[i];
            path.push_back(candidates[i]);
            backtracking(candidates, target, sum, i + 1); 
            sum -= candidates[i];
            path.pop_back();
        }
    }

public:
    vector<vector<int>> combinationSum2(vector<int>& candidates, int target) {
        path.clear();
        result.clear();
        sort(candidates.begin(), candidates.end());
        backtracking(candidates, target, 0, 0);
        return result;
    }
};
```

# 47. å…¨æ’åˆ— II 

ä½¿ç”¨usedæ•°ç»„å»é‡ç‰ˆæœ¬ï¼š[å›æº¯ç®—æ³•ï¼šæ’åˆ—é—®é¢˜ï¼ˆäºŒï¼‰](https://mp.weixin.qq.com/s/9L8h3WqRP_h8LLWNT34YlA)

ä½¿ç”¨setå»é‡çš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š

```C++
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    void backtracking (vector<int>& nums, vector<bool>& used) {
        if (path.size() == nums.size()) {
            result.push_back(path);
            return;
        }
        unordered_set<int> uset; // æ§åˆ¶æŸä¸€èŠ‚ç‚¹ä¸‹çš„åŒä¸€å±‚å…ƒç´ ä¸èƒ½é‡å¤
        for (int i = 0; i < nums.size(); i++) {
            if (uset.find(nums[i]) != uset.end()) {
                continue;
            }
            if (used[i] == false) {
                uset.insert(nums[i]); // è®°å½•å…ƒç´   
                used[i] = true;
                path.push_back(nums[i]);
                backtracking(nums, used);
                path.pop_back();
                used[i] = false;
            }
        }
    }
public:
    vector<vector<int>> permuteUnique(vector<int>& nums) {
        result.clear();
        path.clear();
        sort(nums.begin(), nums.end()); // æ’åº
        vector<bool> used(nums.size(), false);
        backtracking(nums, used);
        return result;
    }
};
```

# ä¸¤ç§å†™æ³•çš„æ€§èƒ½åˆ†æ 

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š**ä½¿ç”¨setå»é‡çš„ç‰ˆæœ¬ç›¸å¯¹äºusedæ•°ç»„çš„ç‰ˆæœ¬æ•ˆç‡éƒ½è¦ä½å¾ˆå¤š**ï¼Œå¤§å®¶åœ¨leetcodeä¸Šæäº¤ï¼Œèƒ½æ˜æ˜¾å‘ç°ã€‚

åŸå› åœ¨[å›æº¯ç®—æ³•ï¼šé€’å¢å­åºåˆ—](https://mp.weixin.qq.com/s/ePxOtX1ATRYJb2Jq7urzHQ)ä¸­ä¹Ÿåˆ†æè¿‡ï¼Œä¸»è¦æ˜¯å› ä¸ºç¨‹åºè¿è¡Œçš„æ—¶å€™å¯¹unordered_set é¢‘ç¹çš„insertï¼Œunordered_setéœ€è¦åšå“ˆå¸Œæ˜ å°„ï¼ˆä¹Ÿå°±æ˜¯æŠŠkeyé€šè¿‡hash functionæ˜ å°„ä¸ºå”¯ä¸€çš„å“ˆå¸Œå€¼ï¼‰ç›¸å¯¹è´¹æ—¶é—´ï¼Œè€Œä¸”insertçš„æ—¶å€™å…¶åº•å±‚çš„ç¬¦å·è¡¨ä¹Ÿè¦åšç›¸åº”çš„æ‰©å……ï¼Œä¹Ÿæ˜¯è´¹æ—¶çš„ã€‚

**è€Œä½¿ç”¨usedæ•°ç»„åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šå‡ ä¹æ²¡æœ‰é¢å¤–è´Ÿæ‹…ï¼**

**ä½¿ç”¨setå»é‡ï¼Œä¸ä»…æ—¶é—´å¤æ‚åº¦é«˜äº†ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿé«˜äº†**ï¼Œåœ¨[æœ¬å‘¨å°ç»“ï¼ï¼ˆå›æº¯ç®—æ³•ç³»åˆ—ä¸‰ï¼‰](https://mp.weixin.qq.com/s/tLkt9PSo42X60w8i94ViiA)ä¸­åˆ†æè¿‡ï¼Œç»„åˆï¼Œå­é›†ï¼Œæ’åˆ—é—®é¢˜çš„ç©ºé—´å¤æ‚åº¦éƒ½æ˜¯O(n)ï¼Œä½†å¦‚æœä½¿ç”¨setå»é‡ï¼Œç©ºé—´å¤æ‚åº¦å°±å˜æˆäº†O(n^2)ï¼Œå› ä¸ºæ¯ä¸€å±‚é€’å½’éƒ½æœ‰ä¸€ä¸ªseté›†åˆï¼Œç³»ç»Ÿæ ˆç©ºé—´æ˜¯nï¼Œæ¯ä¸€ä¸ªç©ºé—´éƒ½æœ‰seté›†åˆã€‚

é‚£æœ‰åŒå­¦å¯èƒ½ç–‘æƒ‘ ç”¨usedæ•°ç»„ä¹Ÿæ˜¯å ç”¨O(n)çš„ç©ºé—´å•Šï¼Ÿ 

usedæ•°ç»„å¯æ˜¯å…¨å±€å˜é‡ï¼Œæ¯å±‚ä¸æ¯å±‚ä¹‹é—´å…¬ç”¨ä¸€ä¸ªusedæ•°ç»„ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯O(n + n)ï¼Œæœ€ç»ˆç©ºé—´å¤æ‚åº¦è¿˜æ˜¯O(n)ã€‚

# æ€»ç»“ 

æœ¬ç¯‡æœ¬æ‰“ç®—æ˜¯å¯¹[æœ¬å‘¨å°ç»“ï¼ï¼ˆå›æº¯ç®—æ³•ç³»åˆ—ä¸‰ï¼‰](https://mp.weixin.qq.com/s/tLkt9PSo42X60w8i94ViiA)çš„ä¸€ä¸ªç‚¹åšä¸€ä¸‹çº æ­£ï¼Œæ²¡æƒ³åˆ°åˆå†™å‡ºæ¥è¿™ä¹ˆå¤šï¼

**è¿™ä¸ªç‚¹éƒ½æºäºä¸€ä½å½•å‹çš„ç–‘é—®ï¼Œç„¶åæˆ‘æ€è€ƒæ€»ç»“äº†ä¸€ä¸‹ï¼Œå°±å†™ç€è¿™ä¸€ç¯‡ï¼Œæ‰€ä»¥è¿˜æ˜¯å¾—å¤šäº¤æµå•Šï¼**

å¦‚æœå¤§å®¶å¯¹ã€Œä»£ç éšæƒ³å½•ã€æ–‡ç« æœ‰ä»€ä¹ˆç–‘é—®ï¼Œå°½ç®¡æ‰“å¡ç•™è¨€çš„æ—¶å€™æå‡ºæ¥å“ˆï¼Œæˆ–è€…åœ¨äº¤æµç¾¤é‡Œæé—®ã€‚

**å…¶å®è¿™å°±æ˜¯ç›¸äº’å­¦ä¹ çš„è¿‡ç¨‹ï¼Œäº¤æµä¸€æ³¢ä¹‹åéƒ½å¯¹é¢˜ç›®ç†è§£çš„æ›´æ·±åˆ»äº†ï¼Œæˆ‘å¦‚æœå‘ç°æ–‡ä¸­æœ‰é—®é¢˜ï¼Œéƒ½ä¼šåœ¨è¯„è®ºåŒºæˆ–è€…ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­å³æ—¶ä¿®æ­£ï¼Œä¿è¯ä¸ä¼šç»™å¤§å®¶å¸¦è·‘åï¼**

å°±é…±ï¼Œã€Œä»£ç éšæƒ³å½•ã€ä¸€ç›´éƒ½æ˜¯å¹²è´§æ»¡æ»¡ï¼Œå…¬ä¼—å·é‡Œçš„ä¸€æŠ¹æ¸…æµï¼Œå€¼å¾—æ¨èç»™èº«è¾¹çš„æ¯ä¸€ä½åŒå­¦æœ‹å‹ï¼

> **æˆ‘æ˜¯[ç¨‹åºå‘˜Carl](https://github.com/youngyangyang04)ï¼Œå¯ä»¥æ‰¾æˆ‘[ç»„é˜Ÿåˆ·é¢˜](https://img-blog.csdnimg.cn/20201115103410182.png)ï¼Œä¹Ÿå¯ä»¥åœ¨[Bç«™ä¸Šæ‰¾åˆ°æˆ‘](https://space.bilibili.com/525438321)ï¼Œæœ¬æ–‡[leetcodeåˆ·é¢˜æ”»ç•¥](https://github.com/youngyangyang04/leetcode-master)å·²æ”¶å½•ï¼Œæ›´å¤š[ç²¾å½©ç®—æ³•æ–‡ç« ](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUxNjY5NTYxNA==&action=getalbum&album_id=1485825793120387074&scene=173#wechat_redirect)å°½åœ¨å…¬ä¼—å·ï¼š[ä»£ç éšæƒ³å½•](https://img-blog.csdnimg.cn/20200815195519696.png)ï¼Œå…³æ³¨åå°±ä¼šå‘ç°å’Œã€Œä»£ç éšæƒ³å½•ã€ç›¸è§æ¨æ™šï¼**

**å¦‚æœæ„Ÿè§‰å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**

