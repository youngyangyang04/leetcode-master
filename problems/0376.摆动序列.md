
> æœ¬å‘¨è®²è§£äº†[è´ªå¿ƒç†è®ºåŸºç¡€](https://mp.weixin.qq.com/s/O935TaoHE9Eexwe_vSbRAg)ï¼Œä»¥åŠç¬¬ä¸€é“è´ªå¿ƒçš„é¢˜ç›®ï¼š[è´ªå¿ƒç®—æ³•ï¼šåˆ†å‘é¥¼å¹²](https://mp.weixin.qq.com/s/YSuLIAYyRGlyxbp9BNC1uw)ï¼Œå¯èƒ½ä¼šç»™å¤§å®¶ä¸€ç§è´ªå¿ƒç®—æ³•æ¯”è¾ƒç®€å•çš„é”™è§‰ï¼Œå¥½äº†ï¼Œæ¥ä¸‹æ¥å‡ å¤©çš„é¢˜ç›®éš¾åº¦è¦ä¸Šæ¥äº†ï¼Œå“ˆå“ˆã€‚

# 376. æ‘†åŠ¨åºåˆ—

é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/wiggle-subsequence/

å¦‚æœè¿ç»­æ•°å­—ä¹‹é—´çš„å·®ä¸¥æ ¼åœ°åœ¨æ­£æ•°å’Œè´Ÿæ•°ä¹‹é—´äº¤æ›¿ï¼Œåˆ™æ•°å­—åºåˆ—ç§°ä¸ºæ‘†åŠ¨åºåˆ—ã€‚ç¬¬ä¸€ä¸ªå·®ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰å¯èƒ½æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ã€‚å°‘äºä¸¤ä¸ªå…ƒç´ çš„åºåˆ—ä¹Ÿæ˜¯æ‘†åŠ¨åºåˆ—ã€‚

ä¾‹å¦‚ï¼ŒÂ [1,7,4,9,2,5] æ˜¯ä¸€ä¸ªæ‘†åŠ¨åºåˆ—ï¼Œå› ä¸ºå·®å€¼ (6,-3,5,-7,3)Â æ˜¯æ­£è´Ÿäº¤æ›¿å‡ºç°çš„ã€‚ç›¸å, [1,4,7,2,5]Â å’ŒÂ [1,7,4,5,5] ä¸æ˜¯æ‘†åŠ¨åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—æ˜¯å› ä¸ºå®ƒçš„å‰ä¸¤ä¸ªå·®å€¼éƒ½æ˜¯æ­£æ•°ï¼Œç¬¬äºŒä¸ªåºåˆ—æ˜¯å› ä¸ºå®ƒçš„æœ€åä¸€ä¸ªå·®å€¼ä¸ºé›¶ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œè¿”å›ä½œä¸ºæ‘†åŠ¨åºåˆ—çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦ã€‚ é€šè¿‡ä»åŸå§‹åºåˆ—ä¸­åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å…ƒç´ æ¥è·å¾—å­åºåˆ—ï¼Œå‰©ä¸‹çš„å…ƒç´ ä¿æŒå…¶åŸå§‹é¡ºåºã€‚

ç¤ºä¾‹ 1:     
è¾“å…¥: [1,7,4,9,2,5]     
è¾“å‡º: 6      
è§£é‡Š: æ•´ä¸ªåºåˆ—å‡ä¸ºæ‘†åŠ¨åºåˆ—ã€‚      

ç¤ºä¾‹ 2:        
è¾“å…¥: [1,17,5,10,13,15,10,5,16,8]    
è¾“å‡º: 7             
è§£é‡Š: è¿™ä¸ªåºåˆ—åŒ…å«å‡ ä¸ªé•¿åº¦ä¸º 7 æ‘†åŠ¨åºåˆ—ï¼Œå…¶ä¸­ä¸€ä¸ªå¯ä¸º[1,17,10,13,10,16,8]ã€‚    

ç¤ºä¾‹ 3:          
è¾“å…¥: [1,2,3,4,5,6,7,8,9]          
è¾“å‡º: 2           


## æ€è·¯ 

æœ¬é¢˜è¦æ±‚é€šè¿‡ä»åŸå§‹åºåˆ—ä¸­åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å…ƒç´ æ¥è·å¾—å­åºåˆ—ï¼Œå‰©ä¸‹çš„å…ƒç´ ä¿æŒå…¶åŸå§‹é¡ºåºã€‚

ç›¸ä¿¡è¿™ä¹ˆä¸€è¯´å“é€€ä¸å°‘åŒå­¦ï¼Œè¿™è¦æ±‚æœ€å¤§æ‘†åŠ¨åºåˆ—åˆå¯ä»¥ä¿®æ”¹æ•°ç»„ï¼Œè¿™å¾—å¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿ 

æ¥åˆ†æä¸€ä¸‹ï¼Œè¦æ±‚åˆ é™¤å…ƒç´ ä½¿å…¶è¾¾åˆ°æœ€å¤§æ‘†åŠ¨åºåˆ—ï¼Œåº”è¯¥åˆ é™¤ä»€ä¹ˆå…ƒç´ å‘¢ï¼Ÿ 

ç”¨ç¤ºä¾‹äºŒæ¥ä¸¾ä¾‹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![376.æ‘†åŠ¨åºåˆ—](https://img-blog.csdnimg.cn/20201124174327597.png)

**å±€éƒ¨æœ€ä¼˜ï¼šåˆ é™¤å•è°ƒå¡åº¦ä¸Šçš„èŠ‚ç‚¹ï¼ˆä¸åŒ…æ‹¬å•è°ƒå¡åº¦ä¸¤ç«¯çš„èŠ‚ç‚¹ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå¡åº¦å°±å¯ä»¥æœ‰ä¸¤ä¸ªå±€éƒ¨å³°å€¼**ã€‚

**æ•´ä½“æœ€ä¼˜ï¼šæ•´ä¸ªåºåˆ—æœ‰æœ€å¤šçš„å±€éƒ¨å³°å€¼ï¼Œä»è€Œè¾¾åˆ°æœ€é•¿æ‘†åŠ¨åºåˆ—**ã€‚

å±€éƒ¨æœ€ä¼˜æ¨å‡ºå…¨å±€æœ€ä¼˜ï¼Œå¹¶ä¸¾ä¸å‡ºåä¾‹ï¼Œé‚£ä¹ˆè¯•è¯•è´ªå¿ƒï¼

ï¼ˆä¸ºæ–¹ä¾¿è¡¨è¿°ï¼Œä»¥ä¸‹è¯´çš„å³°å€¼éƒ½æ˜¯æŒ‡å±€éƒ¨å³°å€¼ï¼‰

**å®é™…æ“ä½œä¸Šï¼Œå…¶å®è¿åˆ é™¤çš„æ“ä½œéƒ½ä¸ç”¨åšï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚çš„æ˜¯æœ€é•¿æ‘†åŠ¨å­åºåˆ—çš„é•¿åº¦ï¼Œæ‰€ä»¥åªéœ€è¦ç»Ÿè®¡æ•°ç»„çš„å³°å€¼æ•°é‡å°±å¯ä»¥äº†ï¼ˆç›¸å½“äºæ˜¯åˆ é™¤å•ä¸€å¡åº¦ä¸Šçš„èŠ‚ç‚¹ï¼Œç„¶åç»Ÿè®¡é•¿åº¦ï¼‰**

**è¿™å°±æ˜¯è´ªå¿ƒæ‰€è´ªçš„åœ°æ–¹ï¼Œè®©å³°å€¼å°½å¯èƒ½çš„ä¿æŒå³°å€¼ï¼Œç„¶ååˆ é™¤å•ä¸€å¡åº¦ä¸Šçš„èŠ‚ç‚¹**ã€‚

æœ¬é¢˜ä»£ç å®ç°ä¸­ï¼Œè¿˜æœ‰ä¸€äº›æŠ€å·§ï¼Œä¾‹å¦‚ç»Ÿè®¡å³°å€¼çš„æ—¶å€™ï¼Œæ•°ç»„æœ€å·¦é¢å’Œæœ€å³é¢æ˜¯æœ€ä¸å¥½ç»Ÿè®¡çš„ã€‚

ä¾‹å¦‚åºåˆ—[2,5]ï¼Œå®ƒçš„å³°å€¼æ•°é‡æ˜¯2ï¼Œå¦‚æœé ç»Ÿè®¡å·®å€¼æ¥è®¡ç®—å³°å€¼ä¸ªæ•°å°±éœ€è¦è€ƒè™‘æ•°ç»„æœ€å·¦é¢å’Œæœ€å³é¢çš„ç‰¹æ®Šæƒ…å†µã€‚

æ‰€ä»¥å¯ä»¥é’ˆå¯¹åºåˆ—[2,5]ï¼Œå¯ä»¥å‡è®¾ä¸º[2,2,5]ï¼Œè¿™æ ·å®ƒå°±æœ‰å¡åº¦äº†å³preDiff = 0ï¼Œå¦‚å›¾ï¼š

![376.æ‘†åŠ¨åºåˆ—1](https://img-blog.csdnimg.cn/20201124174357612.png)

é’ˆå¯¹ä»¥ä¸Šæƒ…å½¢ï¼Œresultåˆå§‹ä¸º1ï¼ˆé»˜è®¤æœ€å³é¢æœ‰ä¸€ä¸ªå³°å€¼ï¼‰ï¼Œæ­¤æ—¶curDiff > 0 && preDiff <= 0ï¼Œé‚£ä¹ˆresult++ï¼ˆè®¡ç®—äº†å·¦é¢çš„å³°å€¼ï¼‰ï¼Œæœ€åå¾—åˆ°çš„resultå°±æ˜¯2ï¼ˆå³°å€¼ä¸ªæ•°ä¸º2å³æ‘†åŠ¨åºåˆ—é•¿åº¦ä¸º2ï¼‰

C++ä»£ç å¦‚ä¸‹ï¼ˆå’Œä¸Šå›¾æ˜¯å¯¹åº”çš„é€»è¾‘ï¼‰ï¼š

```C++
class Solution {
public:
    int wiggleMaxLength(vector<int>& nums) {
        if (nums.size() <= 1) return nums.size();
        int curDiff = 0; // å½“å‰ä¸€å¯¹å·®å€¼
        int preDiff = 0; // å‰ä¸€å¯¹å·®å€¼
        int result = 1;  // è®°å½•å³°å€¼ä¸ªæ•°ï¼Œåºåˆ—é»˜è®¤åºåˆ—æœ€å³è¾¹æœ‰ä¸€ä¸ªå³°å€¼
        for (int i = 0; i < nums.size() - 1; i++) {
            curDiff = nums[i + 1] - nums[i];
            // å‡ºç°å³°å€¼
            if ((curDiff > 0 && preDiff <= 0) || (preDiff >= 0 && curDiff < 0)) {
                result++;
                preDiff = curDiff;
            }
        }
        return result;
    }
};
```
æ—¶é—´å¤æ‚åº¦O(n)    
ç©ºé—´å¤æ‚åº¦O(1)    

# æ€»ç»“

**è´ªå¿ƒçš„é¢˜ç›®è¯´ç®€å•æœ‰çš„æ—¶å€™å°±æ˜¯å¸¸è¯†ï¼Œè¯´éš¾å°±éš¾åœ¨éƒ½ä¸çŸ¥é“è¯¥æ€ä¹ˆç”¨è´ªå¿ƒ**ã€‚

æœ¬é¢˜å¤§å®¶å¦‚æœè¦å»æ¨¡æ‹Ÿåˆ é™¤å…ƒç´ è¾¾åˆ°æœ€é•¿æ‘†åŠ¨å­åºåˆ—çš„è¿‡ç¨‹ï¼Œé‚£æŒ‡å®šç»•é‡Œé¢å»äº†ï¼Œä¸€æ—¶åŠä¼šæ‹”ä¸å‡ºæ¥ã€‚

è€Œè¿™é“é¢˜ç›®æœ‰ä»€ä¹ˆæŠ€å·§è¯´ä¸€ä¸‹å­èƒ½æƒ³åˆ°è´ªå¿ƒä¹ˆï¼Ÿ 

å…¶å®ä¹Ÿæ²¡æœ‰ï¼Œç±»ä¼¼çš„é¢˜ç›®åšè¿‡äº†å°±ä¼šæƒ³åˆ°ã€‚

æ­¤æ—¶å¤§å®¶å°±åº”è¯¥äº†è§£äº†ï¼šä¿æŒåŒºé—´æ³¢åŠ¨ï¼Œåªéœ€è¦æŠŠå•è°ƒåŒºé—´ä¸Šçš„å…ƒç´ ç§»é™¤å°±å¯ä»¥äº†ã€‚

å°±é…±ï¼Œã€Œä»£ç éšæƒ³å½•ã€å€¼å¾—ä»‹ç»ç»™èº«è¾¹æ¯ä¸€ä½å­¦ä¹ ç®—æ³•çš„åŒå­¦ï¼

> **æˆ‘æ˜¯[ç¨‹åºå‘˜Carl](https://github.com/youngyangyang04)ï¼Œå¯ä»¥æ‰¾æˆ‘[ç»„é˜Ÿåˆ·é¢˜](https://img-blog.csdnimg.cn/20201115103410182.png)ï¼Œä¹Ÿå¯ä»¥åœ¨[Bç«™ä¸Šæ‰¾åˆ°æˆ‘](https://space.bilibili.com/525438321)ï¼Œæœ¬æ–‡[leetcodeåˆ·é¢˜æ”»ç•¥](https://github.com/youngyangyang04/leetcode-master)å·²æ”¶å½•ï¼Œæ›´å¤š[ç²¾å½©ç®—æ³•æ–‡ç« ](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUxNjY5NTYxNA==&action=getalbum&album_id=1485825793120387074&scene=173#wechat_redirect)å°½åœ¨å…¬ä¼—å·ï¼š[ä»£ç éšæƒ³å½•](https://img-blog.csdnimg.cn/20201124161234338.png)ï¼Œå…³æ³¨åå°±ä¼šå‘ç°å’Œã€Œä»£ç éšæƒ³å½•ã€ç›¸è§æ¨æ™šï¼**

**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**


