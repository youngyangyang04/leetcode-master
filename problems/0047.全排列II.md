
> æ’åˆ—ä¹Ÿè¦å»é‡äº†

# 47.å…¨æ’åˆ— II 

é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/permutations-ii/

ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— nums ï¼ŒæŒ‰ä»»æ„é¡ºåº è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚

ç¤ºä¾‹ 1ï¼š   
è¾“å…¥ï¼šnums = [1,1,2]   
è¾“å‡ºï¼š   
[[1,1,2],   
 [1,2,1],  
 [2,1,1]]   

ç¤ºä¾‹ 2ï¼š   
è¾“å…¥ï¼šnums = [1,2,3]    
è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]   

æç¤ºï¼š
* 1 <= nums.length <= 8
* -10 <= nums[i] <= 10

## æ€è·¯ 

è¿™é“é¢˜ç›®å’Œ[å›æº¯ç®—æ³•ï¼šæ’åˆ—é—®é¢˜ï¼](https://mp.weixin.qq.com/s/SCOjeMX1t41wcvJq49GhMw)çš„åŒºåˆ«åœ¨ä¸**ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ—**ï¼Œè¦è¿”å›**æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—**ã€‚

è¿™é‡Œåˆæ¶‰åŠåˆ°å»é‡äº†ã€‚

åœ¨[å›æº¯ç®—æ³•ï¼šæ±‚ç»„åˆæ€»å’Œï¼ˆä¸‰ï¼‰](https://mp.weixin.qq.com/s/_1zPYk70NvHsdY8UWVGXmQ) ã€[å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼ˆäºŒï¼‰](https://mp.weixin.qq.com/s/WJ4JNDRJgsW3eUN72Hh3uQ)æˆ‘ä»¬åˆ†åˆ«è¯¦ç»†è®²è§£äº†ç»„åˆé—®é¢˜å’Œå­é›†é—®é¢˜å¦‚ä½•å»é‡ã€‚

é‚£ä¹ˆæ’åˆ—é—®é¢˜å…¶å®ä¹Ÿæ˜¯ä¸€æ ·çš„å¥—è·¯ã€‚

**è¿˜è¦å¼ºè°ƒçš„æ˜¯å»é‡ä¸€å®šè¦å¯¹å…ƒç´ ç»è¡Œæ’åºï¼Œè¿™æ ·æˆ‘ä»¬æ‰æ–¹ä¾¿é€šè¿‡ç›¸é‚»çš„èŠ‚ç‚¹æ¥åˆ¤æ–­æ˜¯å¦é‡å¤ä½¿ç”¨äº†**ã€‚

æˆ‘ä»¥ç¤ºä¾‹ä¸­çš„ [1,1,2]ä¸ºä¾‹ ï¼ˆä¸ºäº†æ–¹ä¾¿ä¸¾ä¾‹ï¼Œå·²ç»æ’åºï¼‰æŠ½è±¡ä¸ºä¸€æ£µæ ‘ï¼Œå»é‡è¿‡ç¨‹å¦‚å›¾ï¼š

![47.å…¨æ’åˆ—II1](https://img-blog.csdnimg.cn/20201124201331223.png)

å›¾ä¸­æˆ‘ä»¬å¯¹åŒä¸€æ ‘å±‚ï¼Œå‰ä¸€ä½ï¼ˆä¹Ÿå°±æ˜¯nums[i-1]ï¼‰å¦‚æœä½¿ç”¨è¿‡ï¼Œé‚£ä¹ˆå°±è¿›è¡Œå»é‡ã€‚

**ä¸€èˆ¬æ¥è¯´ï¼šç»„åˆé—®é¢˜å’Œæ’åˆ—é—®é¢˜æ˜¯åœ¨æ ‘å½¢ç»“æ„çš„å¶å­èŠ‚ç‚¹ä¸Šæ”¶é›†ç»“æœï¼Œè€Œå­é›†é—®é¢˜å°±æ˜¯å–æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„ç»“æœ**ã€‚

åœ¨[å›æº¯ç®—æ³•ï¼šæ’åˆ—é—®é¢˜ï¼](https://mp.weixin.qq.com/s/SCOjeMX1t41wcvJq49GhMw)ä¸­å·²ç»è¯¦è§£è®²è§£äº†æ’åˆ—é—®é¢˜çš„å†™æ³•ï¼Œåœ¨[å›æº¯ç®—æ³•ï¼šæ±‚ç»„åˆæ€»å’Œï¼ˆä¸‰ï¼‰](https://mp.weixin.qq.com/s/_1zPYk70NvHsdY8UWVGXmQ) ã€[å›æº¯ç®—æ³•ï¼šæ±‚å­é›†é—®é¢˜ï¼ˆäºŒï¼‰](https://mp.weixin.qq.com/s/WJ4JNDRJgsW3eUN72Hh3uQ)ä¸­è¯¦ç»†è®²è§£çš„å»é‡çš„å†™æ³•ï¼Œæ‰€ä»¥è¿™æ¬¡æˆ‘å°±ä¸ç”¨å›æº¯ä¸‰éƒ¨æ›²åˆ†æäº†ï¼Œç›´æ¥ç»™å‡ºä»£ç ï¼Œå¦‚ä¸‹ï¼š

## C++ä»£ç 

```
class Solution {
private:
    vector<vector<int>> result;
    vector<int> path;
    void backtracking (vector<int>& nums, vector<bool>& used) {
        // æ­¤æ—¶è¯´æ˜æ‰¾åˆ°äº†ä¸€ç»„
        if (path.size() == nums.size()) {
            result.push_back(path);
            return;
        }
        for (int i = 0; i < nums.size(); i++) {
            // used[i - 1] == trueï¼Œè¯´æ˜åŒä¸€æ ‘æ”¯nums[i - 1]ä½¿ç”¨è¿‡
            // used[i - 1] == falseï¼Œè¯´æ˜åŒä¸€æ ‘å±‚nums[i - 1]ä½¿ç”¨è¿‡
            // å¦‚æœåŒä¸€æ ‘å±‚nums[i - 1]ä½¿ç”¨è¿‡åˆ™ç›´æ¥è·³è¿‡
            if (i > 0 && nums[i] == nums[i - 1] && used[i - 1] == false) {
                continue;
            }
            if (used[i] == false) {
                used[i] = true;
                path.push_back(nums[i]);
                backtracking(nums, used);
                path.pop_back();
                used[i] = false;
            }
        }
    }
public:
    vector<vector<int>> permuteUnique(vector<int>& nums) {
        result.clear();
        path.clear();
        sort(nums.begin(), nums.end()); // æ’åº
        vector<bool> used(nums.size(), false);
        backtracking(nums, vec, used);
        return result;
    }
};

```

## æ‹“å±•

å¤§å®¶å‘ç°ï¼Œå»é‡æœ€ä¸ºå…³é”®çš„ä»£ç ä¸ºï¼š

```
if (i > 0 && nums[i] == nums[i - 1] && used[i - 1] == false) { 
    continue;
}
```

**å¦‚æœæ”¹æˆ `used[i - 1] == true`ï¼Œ ä¹Ÿæ˜¯æ­£ç¡®çš„!**ï¼Œå»é‡ä»£ç å¦‚ä¸‹ï¼š
```
if (i > 0 && nums[i] == nums[i - 1] && used[i - 1] == true) { 
    continue;
}
```

è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Œå°±æ˜¯ä¸Šé¢æˆ‘åˆšè¯´çš„ï¼Œå¦‚æœè¦å¯¹æ ‘å±‚ä¸­å‰ä¸€ä½å»é‡ï¼Œå°±ç”¨`used[i - 1] == false`ï¼Œå¦‚æœè¦å¯¹æ ‘æå‰ä¸€ä½å»é‡ç”¨`used[i - 1] == true`ã€‚

**å¯¹äºæ’åˆ—é—®é¢˜ï¼Œæ ‘å±‚ä¸Šå»é‡å’Œæ ‘æä¸Šå»é‡ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ ‘å±‚ä¸Šå»é‡æ•ˆç‡æ›´é«˜ï¼**

è¿™ä¹ˆè¯´æ˜¯ä¸æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Ÿ

æ¥æ¥æ¥ï¼Œæˆ‘å°±ç”¨è¾“å…¥: [1,1,1] æ¥ä¸¾ä¸€ä¸ªä¾‹å­ã€‚

æ ‘å±‚ä¸Šå»é‡(used[i - 1] == false)ï¼Œçš„æ ‘å½¢ç»“æ„å¦‚ä¸‹ï¼š

![47.å…¨æ’åˆ—II2](https://img-blog.csdnimg.cn/20201124201406192.png)

æ ‘æä¸Šå»é‡ï¼ˆused[i - 1] == trueï¼‰çš„æ ‘å‹ç»“æ„å¦‚ä¸‹ï¼š

![47.å…¨æ’åˆ—II3](https://img-blog.csdnimg.cn/20201124201431571.png)

å¤§å®¶åº”è¯¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°ï¼Œæ ‘å±‚ä¸Šå¯¹å‰ä¸€ä½å»é‡éå¸¸å½»åº•ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œæ ‘æä¸Šå¯¹å‰ä¸€ä½å»é‡è™½ç„¶æœ€åå¯ä»¥å¾—åˆ°ç­”æ¡ˆï¼Œä½†æ˜¯åšäº†å¾ˆå¤šæ— ç”¨æœç´¢ã€‚

# æ€»ç»“  

è¿™é“é¢˜å…¶å®è¿˜æ˜¯ç”¨äº†æˆ‘ä»¬ä¹‹å‰è®²è¿‡çš„å»é‡æ€è·¯ï¼Œä½†æœ‰æ„æ€çš„æ˜¯ï¼Œå»é‡çš„ä»£ç ä¸­ï¼Œè¿™ä¹ˆå†™ï¼š
```
if (i > 0 && nums[i] == nums[i - 1] && used[i - 1] == false) { 
    continue;
}
```
å’Œè¿™ä¹ˆå†™ï¼š
```
if (i > 0 && nums[i] == nums[i - 1] && used[i - 1] == true) { 
    continue;
}
```

éƒ½æ˜¯å¯ä»¥çš„ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šåŒå­¦åšè¿™é“é¢˜ç›®å›°æƒ‘çš„åœ°æ–¹ï¼ŒçŸ¥é“`used[i - 1] == false`ä¹Ÿè¡Œè€Œ`used[i - 1] == true`ä¹Ÿè¡Œï¼Œä½†æ˜¯å°±æƒ³ä¸æ˜ç™½ä¸ºå•¥ã€‚

æ‰€ä»¥æˆ‘é€šè¿‡ä¸¾[1,1,1]çš„ä¾‹å­ï¼ŒæŠŠè¿™ä¸¤ä¸ªå»é‡çš„é€»è¾‘åˆ†åˆ«æŠ½è±¡æˆæ ‘å½¢ç»“æ„ï¼Œå¤§å®¶å¯ä»¥ä¸€ç›®äº†ç„¶ï¼šä¸ºä»€ä¹ˆä¸¤ç§å†™æ³•éƒ½å¯ä»¥ä»¥åŠå“ªä¸€ç§æ•ˆç‡æ›´é«˜ï¼

æ˜¯ä¸æ˜¯è±ç„¶å¼€æœ—äº†ï¼ï¼

å°±é…±ï¼Œå¾ˆå¤šå½•å‹è¡¨ç¤ºå’Œã€Œä»£ç éšæƒ³å½•ã€ç›¸è§æ¨æ™šï¼Œé‚£ä¹ˆå¤§å®¶å¸®å¿™å¤šå¤šå®£ä¼ ï¼Œè®©æ›´å¤šçš„åŒå­¦çŸ¥é“è¿™é‡Œï¼Œæ„Ÿè°¢å•¦ï¼

> **æˆ‘æ˜¯[ç¨‹åºå‘˜Carl](https://github.com/youngyangyang04)ï¼Œå¯ä»¥æ‰¾æˆ‘[ç»„é˜Ÿåˆ·é¢˜](https://img-blog.csdnimg.cn/20201115103410182.png)ï¼Œä¹Ÿå¯ä»¥åœ¨[Bç«™ä¸Šæ‰¾åˆ°æˆ‘](https://space.bilibili.com/525438321)ï¼Œæœ¬æ–‡[leetcodeåˆ·é¢˜æ”»ç•¥](https://github.com/youngyangyang04/leetcode-master)å·²æ”¶å½•ï¼Œæ›´å¤š[ç²¾å½©ç®—æ³•æ–‡ç« ](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUxNjY5NTYxNA==&action=getalbum&album_id=1485825793120387074&scene=173#wechat_redirect)å°½åœ¨å…¬ä¼—å·ï¼š[ä»£ç éšæƒ³å½•](https://img-blog.csdnimg.cn/20200815195519696.png)ï¼Œå…³æ³¨åå°±ä¼šå‘ç°å’Œã€Œä»£ç éšæƒ³å½•ã€ç›¸è§æ¨æ™šï¼**

**å¦‚æœæ„Ÿè§‰å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**

