
## æ€è·¯ 

è¿™é“é¢˜ç›®ä¸€å®šæ˜¯è¦ç¡®å®šä¸€è¾¹ä¹‹åï¼Œå†ç¡®å®šå¦ä¸€è¾¹ï¼Œä¾‹å¦‚æ¯”è¾ƒæ¯ä¸€ä¸ªå­©å­çš„å·¦è¾¹ï¼Œç„¶åå†æ¯”è¾ƒå³è¾¹ï¼Œå¦‚æœä¸¤è¾¹ä¸€èµ·è€ƒè™‘å°±ä¼šé¡¾æ­¤å¤±å½¼ã€‚

æœ¬é¢˜è´ªå¿ƒè´ªåœ¨å“ªé‡Œå‘¢ï¼Ÿ 

å…ˆç¡®å®šæ¯ä¸ªå­©å­å·¦è¾¹çš„æƒ…å†µï¼ˆä¹Ÿå°±æ˜¯ä»å‰å‘åéå†ï¼‰

å¦‚æœratings[i] > ratings[i - 1] é‚£ä¹ˆ[i]çš„ç³– ä¸€å®šè¦æ¯”[i - 1]çš„ç³–å¤šä¸€ä¸ªï¼Œæ‰€ä»¥è´ªå¿ƒï¼šcandyVec[i] = candyVec[i - 1] + 1 

ä»£ç å¦‚ä¸‹ï¼š

```C++
// ä»å‰å‘å 
for (int i = 1; i < ratings.size(); i++) {
    if (ratings[i] > ratings[i - 1]) candyVec[i] = candyVec[i - 1] + 1;
}
```

å¦‚å›¾ï¼š

![135.åˆ†å‘ç³–æœ](https://img-blog.csdnimg.cn/20201117114916878.png)

å†ç¡®å®šæ¯ä¸ªå­©å­å³è¾¹çš„æƒ…å†µï¼ˆä»åå‘å‰éå†ï¼‰ 

éå†é¡ºåºè¿™é‡Œæœ‰åŒå­¦å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ä»å‰å‘åéå†å‘¢ï¼Ÿ 

å› ä¸ºå¦‚æœä»å‰å‘åéå†ï¼Œæ ¹æ® ratings[i + 1] æ¥ç¡®å®š ratings[i] å¯¹åº”çš„ç³–æœï¼Œé‚£ä¹ˆæ¯æ¬¡éƒ½ä¸èƒ½åˆ©ç”¨ä¸Šå‰ä¸€æ¬¡çš„æ¯”è¾ƒç»“æœäº†ã€‚ 
**æ‰€ä»¥ç¡®å®šæ¯ä¸ªå­©å­å³è¾¹çš„æƒ…å†µä¸€å®šè¦ä»åå‘å‰éå†ï¼** 

æ­¤æ—¶åˆè¦å¼€å§‹è´ªå¿ƒï¼Œå¦‚æœ ratings[i] > ratings[i + 1]ï¼Œå°±å–candyVec[i + 1] + 1 å’Œ candyVec[i] æœ€å¤§çš„ç³–æœæ•°é‡ï¼Œ**å› ä¸ºcandyVec[i]åªæœ‰å–æœ€å¤§çš„æ‰èƒ½æ—¢ä¿æŒå¯¹å·¦è¾¹candyVec[i - 1]çš„ç³–æœå¤šï¼Œä¹Ÿæ¯”å³è¾¹candyVec[i + 1]çš„ç³–æœå¤š**ã€‚

å¦‚å›¾ï¼š

![135.åˆ†å‘ç³–æœ1](https://img-blog.csdnimg.cn/20201117115658791.png)

æ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š

```C++
// ä»åå‘å‰
for (int i = ratings.size() - 2; i >= 0; i--) {
    if (ratings[i] > ratings[i + 1] ) {
        candyVec[i] = max(candyVec[i], candyVec[i + 1] + 1);
    }
}
```

æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š
```C++
class Solution {
public:
    int candy(vector<int>& ratings) {
        vector<int> candyVec(ratings.size(), 1);
        // ä»å‰å‘å
        for (int i = 1; i < ratings.size(); i++) {
            if (ratings[i] > ratings[i - 1]) candyVec[i] = candyVec[i - 1] + 1;
        }
        // ä»åå‘å‰
        for (int i = ratings.size() - 2; i >= 0; i--) {
            if (ratings[i] > ratings[i + 1] ) {
                candyVec[i] = max(candyVec[i], candyVec[i + 1] + 1);
            }
        }
        // ç»Ÿè®¡ç»“æœ
        int result = 0;
        for (int i = 0; i < candyVec.size(); i++) result += candyVec[i];
        return result;
    }
};
```

> **æˆ‘æ˜¯[ç¨‹åºå‘˜Carl](https://github.com/youngyangyang04)ï¼Œ[ç»„é˜Ÿåˆ·é¢˜](https://img-blog.csdnimg.cn/20201115103410182.png)å¯ä»¥æ‰¾æˆ‘ï¼Œæœ¬æ–‡[leetcodeåˆ·é¢˜æ”»ç•¥](https://github.com/youngyangyang04/leetcode-master)å·²æ”¶å½•ï¼Œæ›´å¤š[ç²¾å½©ç®—æ³•æ–‡ç« ](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUxNjY5NTYxNA==&action=getalbum&album_id=1485825793120387074&scene=173#wechat_redirect)å°½åœ¨ï¼š[ä»£ç éšæƒ³å½•](https://img-blog.csdnimg.cn/20200815195519696.png)ï¼Œå…³æ³¨åå°±ä¼šå‘ç°å’Œã€Œä»£ç éšæƒ³å½•ã€ç›¸è§æ¨æ™šï¼**

**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**

