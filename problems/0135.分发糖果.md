> å¥½äº† 


# 135. åˆ†å‘ç³–æœ 

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/candy/   

è€å¸ˆæƒ³ç»™å­©å­ä»¬åˆ†å‘ç³–æœï¼Œæœ‰ NÂ ä¸ªå­©å­ç«™æˆäº†ä¸€æ¡ç›´çº¿ï¼Œè€å¸ˆä¼šæ ¹æ®æ¯ä¸ªå­©å­çš„è¡¨ç°ï¼Œé¢„å…ˆç»™ä»–ä»¬è¯„åˆ†ã€‚

ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œå¸®åŠ©è€å¸ˆç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š

* æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚  
* ç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­å¿…é¡»è·å¾—æ›´å¤šçš„ç³–æœã€‚

é‚£ä¹ˆè¿™æ ·ä¸‹æ¥ï¼Œè€å¸ˆè‡³å°‘éœ€è¦å‡†å¤‡å¤šå°‘é¢—ç³–æœå‘¢ï¼Ÿ

ç¤ºä¾‹Â 1:       
è¾“å…¥: [1,0,2]    
è¾“å‡º: 5         
è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚   

ç¤ºä¾‹Â 2:       
è¾“å…¥: [1,2,2]      
è¾“å‡º: 4  
è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚     
ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™å·²æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ã€‚         


# æ€è·¯ 

è¿™é“é¢˜ç›®ä¸€å®šæ˜¯è¦ç¡®å®šä¸€è¾¹ä¹‹åï¼Œå†ç¡®å®šå¦ä¸€è¾¹ï¼Œä¾‹å¦‚æ¯”è¾ƒæ¯ä¸€ä¸ªå­©å­çš„å·¦è¾¹ï¼Œç„¶åå†æ¯”è¾ƒå³è¾¹ï¼Œ**å¦‚æœä¸¤è¾¹ä¸€èµ·è€ƒè™‘ä¸€å®šä¼šé¡¾æ­¤å¤±å½¼**ã€‚


å…ˆç¡®å®šå³è¾¹è¯„åˆ†å¤§äºå·¦è¾¹çš„æƒ…å†µï¼ˆä¹Ÿå°±æ˜¯ä»å‰å‘åéå†ï¼‰

æ­¤æ—¶å±€éƒ¨æœ€ä¼˜ï¼šåªè¦å³è¾¹è¯„åˆ†æ¯”å·¦è¾¹å¤§ï¼Œå³è¾¹çš„å­©å­å°±å¤šä¸€ä¸ªç³–æœï¼Œå…¨å±€æœ€ä¼˜ï¼šç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å³å­©å­è·å¾—æ¯”å·¦è¾¹å­©å­æ›´å¤šçš„ç³–æœ

å±€éƒ¨æœ€ä¼˜å¯ä»¥æ¨å‡ºå…¨å±€æœ€ä¼˜ã€‚

å¦‚æœratings[i] > ratings[i - 1] é‚£ä¹ˆ[i]çš„ç³– ä¸€å®šè¦æ¯”[i - 1]çš„ç³–å¤šä¸€ä¸ªï¼Œæ‰€ä»¥è´ªå¿ƒï¼šcandyVec[i] = candyVec[i - 1] + 1 

ä»£ç å¦‚ä¸‹ï¼š

```C++
// ä»å‰å‘å 
for (int i = 1; i < ratings.size(); i++) {
    if (ratings[i] > ratings[i - 1]) candyVec[i] = candyVec[i - 1] + 1;
}
```

å¦‚å›¾ï¼š

![135.åˆ†å‘ç³–æœ](https://img-blog.csdnimg.cn/20201117114916878.png)

å†ç¡®å®šå·¦å­©å­å¤§äºå³å­©å­çš„æƒ…å†µï¼ˆä»åå‘å‰éå†ï¼‰ 

éå†é¡ºåºè¿™é‡Œæœ‰åŒå­¦å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ä»å‰å‘åéå†å‘¢ï¼Ÿ 

å› ä¸ºå¦‚æœä»å‰å‘åéå†ï¼Œæ ¹æ® ratings[i + 1] æ¥ç¡®å®š ratings[i] å¯¹åº”çš„ç³–æœï¼Œé‚£ä¹ˆæ¯æ¬¡éƒ½ä¸èƒ½åˆ©ç”¨ä¸Šå‰ä¸€æ¬¡çš„æ¯”è¾ƒç»“æœäº†ã€‚ 

**æ‰€ä»¥ç¡®å®šå·¦å­©å­å¤§äºå³å­©å­çš„æƒ…å†µä¸€å®šè¦ä»åå‘å‰éå†ï¼** 

å¦‚æœ ratings[i] > ratings[i + 1]ï¼Œæ­¤æ—¶candyVec[i]ï¼ˆç¬¬iä¸ªå°å­©çš„ç³–æœæ•°é‡ï¼‰å°±æœ‰ä¸¤ä¸ªé€‰æ‹©äº†ï¼Œä¸€ä¸ªæ˜¯candyVec[i + 1] + 1ï¼ˆä»å³è¾¹è¿™ä¸ªåŠ 1å¾—åˆ°çš„ç³–æœæ•°é‡ï¼‰ï¼Œä¸€ä¸ªæ˜¯candyVec[i]ï¼ˆä¹‹å‰æ¯”è¾ƒå³å­©å­å¤§äºå·¦å­©å­å¾—åˆ°çš„ç³–æœæ•°é‡ï¼‰ã€‚

é‚£ä¹ˆåˆè¦è´ªå¿ƒäº†ï¼Œå±€éƒ¨æœ€ä¼˜ï¼šå–candyVec[i + 1] + 1 å’Œ candyVec[i] æœ€å¤§çš„ç³–æœæ•°é‡ï¼Œä¿è¯ç¬¬iä¸ªå°å­©çš„ç³–æœæ•°é‡å³å¤§äºå·¦è¾¹çš„ä¹Ÿå¤§äºå³è¾¹çš„ã€‚å…¨å±€æœ€ä¼˜ï¼šç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­è·å¾—æ›´å¤šçš„ç³–æœã€‚

å±€éƒ¨æœ€ä¼˜å¯ä»¥æ¨å‡ºå…¨å±€æœ€ä¼˜ã€‚

æ‰€ä»¥å°±å–candyVec[i + 1] + 1 å’Œ candyVec[i] æœ€å¤§çš„ç³–æœæ•°é‡ï¼Œ**candyVec[i]åªæœ‰å–æœ€å¤§çš„æ‰èƒ½æ—¢ä¿æŒå¯¹å·¦è¾¹candyVec[i - 1]çš„ç³–æœå¤šï¼Œä¹Ÿæ¯”å³è¾¹candyVec[i + 1]çš„ç³–æœå¤š**ã€‚

å¦‚å›¾ï¼š

![135.åˆ†å‘ç³–æœ1](https://img-blog.csdnimg.cn/20201117115658791.png)

æ‰€ä»¥è¯¥è¿‡ç¨‹ä»£ç å¦‚ä¸‹ï¼š

```C++
// ä»åå‘å‰
for (int i = ratings.size() - 2; i >= 0; i--) {
    if (ratings[i] > ratings[i + 1] ) {
        candyVec[i] = max(candyVec[i], candyVec[i + 1] + 1);
    }
}
```

æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š
```C++
class Solution {
public:
    int candy(vector<int>& ratings) {
        vector<int> candyVec(ratings.size(), 1);
        // ä»å‰å‘å
        for (int i = 1; i < ratings.size(); i++) {
            if (ratings[i] > ratings[i - 1]) candyVec[i] = candyVec[i - 1] + 1;
        }
        // ä»åå‘å‰
        for (int i = ratings.size() - 2; i >= 0; i--) {
            if (ratings[i] > ratings[i + 1] ) {
                candyVec[i] = max(candyVec[i], candyVec[i + 1] + 1);
            }
        }
        // ç»Ÿè®¡ç»“æœ
        int result = 0;
        for (int i = 0; i < candyVec.size(); i++) result += candyVec[i];
        return result;
    }
};
```

# æ€»ç»“ 

è¿™åœ¨leetcodeä¸Šæ˜¯ä¸€é“å›°éš¾çš„é¢˜ç›®ï¼Œå…¶éš¾ç‚¹å°±åœ¨äºè´ªå¿ƒçš„ç­–ç•¥ï¼Œå¦‚æœåœ¨è€ƒè™‘å±€éƒ¨çš„æ—¶å€™æƒ³ä¸¤è¾¹å…¼é¡¾ï¼Œå°±ä¼šé¡¾æ­¤å¤±å½¼ã€‚

é‚£ä¹ˆæœ¬é¢˜æˆ‘é‡‡ç”¨äº†ä¸¤æ¬¡è´ªå¿ƒçš„ç­–ç•¥ï¼š

* ä¸€æ¬¡æ˜¯ä»å·¦åˆ°å³éå†ï¼Œåªæ¯”è¾ƒå³è¾¹å­©å­è¯„åˆ†æ¯”å·¦è¾¹å¤§çš„æƒ…å†µã€‚
* ä¸€æ¬¡æ˜¯ä»å³åˆ°å·¦éå†ï¼Œåªæ¯”è¾ƒå·¦è¾¹å­©å­è¯„åˆ†æ¯”å³è¾¹å¤§çš„æƒ…å†µã€‚

è¿™æ ·ä»å±€éƒ¨æœ€ä¼˜æ¨å‡ºäº†å…¨å±€æœ€ä¼˜ï¼Œå³ï¼šç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­è·å¾—æ›´å¤šçš„ç³–æœã€‚

å°±é…±ï¼Œå¦‚æœæ„Ÿè§‰ã€Œä»£ç éšæƒ³å½•ã€å¹²è´§æ»¡æ»¡ï¼Œå°±æ¨èç»™èº«è¾¹çš„æœ‹å‹åŒå­¦ä»¬å§ï¼Œå…³æ³¨åå°±ä¼šå‘ç°ç›¸è§æ¨æ™šï¼


> **æˆ‘æ˜¯[ç¨‹åºå‘˜Carl](https://github.com/youngyangyang04)ï¼Œ[ç»„é˜Ÿåˆ·é¢˜](https://img-blog.csdnimg.cn/20201115103410182.png)å¯ä»¥æ‰¾æˆ‘ï¼Œæœ¬æ–‡[leetcodeåˆ·é¢˜æ”»ç•¥](https://github.com/youngyangyang04/leetcode-master)å·²æ”¶å½•ï¼Œæ›´å¤š[ç²¾å½©ç®—æ³•æ–‡ç« ](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUxNjY5NTYxNA==&action=getalbum&album_id=1485825793120387074&scene=173#wechat_redirect)å°½åœ¨ï¼š[ä»£ç éšæƒ³å½•](https://img-blog.csdnimg.cn/20200815195519696.png)ï¼Œå…³æ³¨åå°±ä¼šå‘ç°å’Œã€Œä»£ç éšæƒ³å½•ã€ç›¸è§æ¨æ™šï¼**

**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**


